<!DOCTYPE html>
<html lang="en"
      xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:f="http://xmlns.jcp.org/jsf/core" xmlns:pt="http://xmlns.jcp.org/jsf/passthrough">

<ui:insert name="preRender"></ui:insert>

<h:head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <title><ui:insert name="title">Merlion Airlines</ui:insert></title>

    <link rel="shortcut icon" href="#{commonManagedBean.getRoot()}/assets/favicon.ico" />

    <link type="text/css" rel="stylesheet" href="#{commonManagedBean.getRoot()}/assets/vendor/bootstrap/dist/css/bootstrap.min.css" />
    <link type="text/css" rel="stylesheet" href="#{commonManagedBean.getRoot()}/assets/vendor/font-awesome/css/font-awesome.min.css" />
    <link type="text/css" rel="stylesheet" href="#{commonManagedBean.getRoot()}/assets/vendor/open-sans/css/open-sans.min.css" />
    <link type="text/css" rel="stylesheet" href="#{commonManagedBean.getRoot()}/assets/vendor/animate.css/animate.min.css" />
    <link type="text/css" rel="stylesheet" href="#{commonManagedBean.getRoot()}/assets/css/main.css" />
    <link type="text/css" rel="stylesheet" href="#{commonManagedBean.getRoot()}/assets/css/cards.css" />


</h:head>

<h:body>
    <!-- Navigation -->
    <nav class="navbar navbar-fixed-top navbar-merlion" role="navigation">
        <div class="container-fluid">

            <div class="navbar-header">
                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar-collapse">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                <h:link class="navbar-brand " rel="home" outcome="/index" title="Merlion Airlines">
                    <img alt="Merlion Airlines" src="#{commonManagedBean.getRoot()}/assets/img/logo.png" class="hidden-xs" />
                    <span class="visible-xs">Merlion Airlines</span>
                </h:link>
            </div>

            <div class="collapse navbar-collapse" id="navbar-collapse">

                <div class="nav navbar-nav navbar-divider"></div>
                <ul class="nav navbar-nav navbar-nav-primary">
                    <li><a href="#{commonManagedBean.getRoot()}/booking">Book</a></li>
                    <li><a href="#">Check In</a></li>
                    <li><a href="#{commonManagedBean.getRoot()}/booking/manage.xhtml">Manage</a></li>
                </ul>

                <div class="nav navbar-nav navbar-divider"></div>

                <ul class="nav navbar-nav navbar-nav-secondary hidden-sm">
                    <li><a href="#">Deals</a></li>
                    <li><a href="#">Fly Merlion</a></li>
                    <li><a href="#{commonManagedBean.getRoot()}/feedback">Feedback</a></li>
                </ul>

                <ul class="nav navbar-nav navbar-right navbar-nav-tertiary">
                    <li><a href="#{commonManagedBean.getRoot()}/ffp"><i class="fa fa-fw fa-plane"></i> <strong>MerlionFlyer</strong></a></li>

                    <ui:fragment rendered="#{authManagedBean.authenticated}">
                        <li class="dropdown hidden-xs">
                            <a href="#" class="dropdown-toggle" data-toggle="dropdown">#{authManagedBean.customerDisplayName} <span class="caret"></span></a>
                            <ul class="dropdown-menu dropdown-menu-right dropdown-login">
                                <li>
                                    <div>
                                        <h3>Welcome back!</h3>
                                        Welcome back, #{authManagedBean.retrieveCustomer().firstName}!
                                    </div>
                                    <div class="bottom text-center">
                                        <h:form>
                                            <h:commandButton action="#{authManagedBean.logout}" value="Logout" styleClass="btn btn-primary btn-block" />
                                        </h:form>
                                    </div>
                                </li>
                            </ul>
                        </li>
                        <li class="visible-xs"><h:link outcome="/logout.xhtml">Logout</h:link></li>
                    </ui:fragment>

                    <ui:fragment rendered="#{!authManagedBean.authenticated}">
                        <li class="dropdown hidden-xs">
                            <a href="#" class="dropdown-toggle" data-toggle="dropdown">Sign In <span class="caret"></span></a>
                            <ul class="dropdown-menu dropdown-menu-right dropdown-login">
                                <li>
                                    <h3>Login</h3>
                                    <h:form>
                                        <div class="form-group">
                                            <h:inputText styleClass="form-control" pt:placeholder="Membership No." value="#{loginManagedBean.customerIdString}" />
                                        </div>
                                        <div class="form-group">
                                            <h:inputSecret styleClass="form-control" pt:placeholder="Password" value="#{loginManagedBean.password}" />
                                        </div>
                                        <p class="text-right">
                                            <a href="">Forgot password?</a>
                                        </p>
                                        <div class="form-group">
                                            <h:commandButton action="#{loginManagedBean.loginNavBar}" value="Sign In" styleClass="btn btn-primary btn-block" />
                                        </div>
                                    </h:form>
                                    <div class="bottom text-center">
                                        Not yet a member?<br />
                                        <h:link outcome="/signup"><strong>Join us Today</strong></h:link>
                                    </div>
                                </li>
                            </ul>
                        </li>
                        <li class="visible-xs"><h:link outcome="/login">Sign In</h:link></li>
                        <li><h:link outcome="/signup">Register</h:link></li>
                    </ui:fragment>
                </ul>
            </div>
        </div>
    </nav>

    <div class="site-announcement">
        <i class="fa fa-warning fa-fw"></i>
        <strong>Travel Advisory:</strong>
        <a href="http://www.mfa.gov.sg/content/mfa/consular_information/for_singapore_citizens/travel_notices/2015/201509/travelnotice_20150915.html" target="_blank">
            The Ministry of Foreign Affairs continues to advise Singaporeans to defer non-essential travel to Egypt.
        </a>
    </div>

    <ui:insert name="content"></ui:insert>

    <footer>
        <div class="container">
            <div class="row">
                <div class="col-lg-12 text-center">
                    <p class="text-muted">
                    Copyright &#169; 2015 Merlion Airlines.<br />
                    All Rights Reserved.
                    </p>
                </div>
            </div>
        </div>
    </footer>

    <script type="text/javascript" src="#{commonManagedBean.getRoot()}/assets/vendor/jquery/dist/jquery.min.js"></script>
    <script type="text/javascript" src="#{commonManagedBean.getRoot()}/assets/vendor/bootstrap/dist/js/bootstrap.min.js"></script>

    <ui:insert name="javascript"></ui:insert>

</h:body>
</html>