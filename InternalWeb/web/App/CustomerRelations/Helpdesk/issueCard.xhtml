<ui:composition template="/App/CustomerRelations/Helpdesk/customer.xhtml"
                xmlns="http://www.w3.org/1999/xhtml"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:pt="http://xmlns.jcp.org/jsf/passthrough"
                xmlns:merlion="http://java.sun.com/jsf/composite/merlion">

    <ui:define name="helpdesk-main">
        <h:panelGroup class="panel panel-primary #{helpdeskManagedBean.animateClass()} fadeIn" layout="block">
            <div class="panel-heading">
                <i class="fa fa-pencil fa-fw"></i>
                Issue Membership Card
            </div>

            <h:panelGroup class="panel-body" layout="block">

                <ui:repeat value="#{facesContext.getMessageList('status')}" var="message">
                    <h:panelGroup layout="block" styleClass="alert alert-info">
                        #{message.detail}
                    </h:panelGroup>
                </ui:repeat>

                <p><strong>STEP 1: Prepare Card for Printing</strong></p>
                <p>Check the information on the card before sending for printing.</p>
                <p><merlion:card customer="#{helpdeskManagedBean.customer}"/></p>
                <p>
                    <h:link outcome="printCard" value="Send Card for Printing" styleClass="btn btn-default btn-sm" target="_blank">
                        <f:param name="customerId" value="#{helpdeskManagedBean.customerId}" />
                    </h:link>
                </p>

                <hr />

                <p><strong>STEP 2: Print Mailing Label</strong></p>
                <p>Verify the customer's address before printing the mailing label.</p>
                <p>
                    <h:link outcome="printMailingLabel" value="Print Mailing Label" styleClass="btn btn-default btn-sm" target="_blank">
                        <f:param name="customerId" value="#{helpdeskManagedBean.customerId}" />
                    </h:link>
                </p>

                <hr />

                <p><strong>STEP 3: Prepare for Mailing</strong></p>
                <p>Affix the printed card on the card reissue letter and paste the mailing label on the front.</p>

            </h:panelGroup>
        </h:panelGroup>
    </ui:define>

    <ui:define name="helpdesk-side">
        <h:panelGroup class="panel panel-primary" layout="block">
            <div class="panel-heading">
                <i class="fa fa-exclamation-circle fa-fw"></i>
                Important Note
            </div>

            <h:panelGroup class="panel-body" layout="block">
                Please verify address with customer before reissuing the membership card.
            </h:panelGroup>
        </h:panelGroup>
    </ui:define>

</ui:composition>