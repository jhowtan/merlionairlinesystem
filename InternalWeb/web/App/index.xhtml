<ui:composition template="/WEB-INF/templates/default.xhtml"
                xmlns="http://www.w3.org/1999/xhtml"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:ui="http://java.sun.com/jsf/facelets">

    <ui:define name="title">Welcome - Merlion Airline System</ui:define>

    <ui:define name="content">
        <div class="container-fluid">
            <div class="row">
                <div class="col-lg-12">
                    <h1 class="page-header">Welcome to the Merlion Airlines System</h1>
                    <p>Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book. It has survived not only five centuries, but also the leap into electronic typesetting, remaining essentially unchanged. It was popularised in the 1960s with the release of Letraset sheets containing Lorem Ipsum passages,
                        and more recently with desktop publishing software like Aldus PageMaker including versions of Lorem Ipsum.</p>
                </div>
                <div class="col-lg-4">
                    <h1 class="page-header">Announcements</h1>
                    <div class="list-group">
                        <h:panelGroup rendered="#{messageManagedBean.messages.size() == 0}">
                            <div class="centered">
                                <em>There are currently no messages.</em>
                            </div>
                        </h:panelGroup>
                        <ui:repeat value="#{messageManagedBean.messages}" var="message">
                            <h:link outcome="/App/Messaging/viewMessage" styleClass="list-group-item">
                                <f:param name="id" value="#{message.id}" />
                                <strong>#{message.sender.firstName} #{message.sender.lastName}</strong>
                                <div><em>#{message.subject}</em></div>
                                <div class="text-muted">#{commonManagedBean.truncate(message.body, 100)}</div>
                                <div><small><em>#{commonManagedBean.formatDate("dd MMM YYYY, hh:mm a", message.sentTime)}</em></small></div>
                            </h:link>
                        </ui:repeat>
                    </div>
                </div>
                <div class="col-lg-8">
                    <h1 class="page-header">Calendar</h1>
                    <div id="calendar"></div>
                </div>
            </div>
        </div>
    </ui:define>

    <ui:define name="javascript">
        <script type="text/javascript">
            var date = new Date();
            var d = date.getDate();
            var m = date.getMonth();
            var y = date.getFullYear();
            $(document).ready(function() {
                $('#calendar').fullCalendar({
                    //height: 420,
                    schedulerLicenseKey: 'CC-Attribution-NonCommercial-NoDerivatives',
                    editable: false,
                    header: {
                        left: 'prev,next today',
                        center: 'title',
                        right: 'month,basicWeek,basicDay'
                    },
                    buttonText: {
                        next: 'Next',
                        prev: 'Prev'
                    },
                    events: [
                        {title:'All Day Event', start: new Date(y, m, 1), className: ['b-l b-2x b-info'], location:'New York', info:'This a all day event that will start from 9:00 am to 9:00 pm, have fun!'},
                        {title:'Dance class', start: new Date(y, m, 3), end: new Date(y, m, 4, 9, 30), allDay: false, className: ['b-l b-2x b-danger'], location:'London', info:'Two days dance training class.'},
                        {title:'Game racing', start: new Date(y, m, 6, 16, 0), className: ['b-l b-2x b-info'], location:'Hongkong', info:'The most big racing of this year.'},
                        {title:'Soccer', start: new Date(y, m, 8, 15, 0), className: ['b-l b-2x b-info'], location:'Rio', info:'Do not forget to watch.'},
                        {title:'Family', start: new Date(y, m, 9, 19, 30), end: new Date(y, m, 9, 20, 30), className: ['b-l b-2x b-success'], info:'Family party'},
                        {title:'Long Event', start: new Date(y, m, d - 5), end: new Date(y, m, d - 2), className: ['bg-success bg'], location:'HD City', info:'It is a long long event'},
                        {title:'Play game', start: new Date(y, m, d - 1, 16, 0), className: ['b-l b-2x b-info'], location:'Tokyo', info:'Tokyo Game Racing'},
                        {title:'Birthday Party', start: new Date(y, m, d + 1, 19, 0), end: new Date(y, m, d + 1, 22, 30), allDay: false, className: ['b-l b-2x b-primary'], location:'New York', info:'Party all day'},
                        {title:'Repeating Event', start: new Date(y, m, d + 4, 16, 0), alDay: false, className: ['b-l b-2x b-warning'], location:'Home Town', info:'Repeat every day'},
                        {title:'Click for Google', start: new Date(y, m, 28), end: new Date(y, m, 29), url: 'http://google.com/', className: ['b-l b-2x b-primary']},
                        {title:'Feed cat', start: new Date(y, m+1, 6, 18, 0), className: ['b-l b-2x b-info']}
                     ]
                });
            });
        </script>
    </ui:define>

</ui:composition>